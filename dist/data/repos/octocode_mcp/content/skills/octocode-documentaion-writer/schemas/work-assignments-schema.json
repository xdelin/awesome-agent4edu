{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://octocode-documentaion-writer.v3/work-assignments.json",
  "title": "Orchestrator Work Assignments",
  "description": "Output from Phase 2.5 Orchestrator defining file ownership and agent tasks",
  "type": "object",
  "required": ["metadata", "strategy", "assignments", "file_groups"],
  "properties": {
    "metadata": {
      "type": "object",
      "required": ["version", "generated_at", "repository_path"],
      "properties": {
        "version": { "type": "string", "const": "3.0" },
        "generated_at": { "type": "string", "format": "date-time" },
        "repository_path": { "type": "string" },
        "agent": { "type": "string", "const": "orchestrator" }
      }
    },
    "strategy": {
      "type": "object",
      "required": ["name", "agent_count", "total_questions"],
      "properties": {
        "name": {
          "type": "string",
          "enum": ["sequential", "parallel-core", "parallel-all"]
        },
        "agent_count": { "type": "integer", "minimum": 1, "maximum": 8 },
        "total_questions": { "type": "integer", "minimum": 0 },
        "reasoning": { "type": "string" }
      }
    },
    "file_groups": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["target_file", "question_count"],
        "properties": {
          "target_file": { "type": "string" },
          "question_count": { "type": "integer" },
          "question_ids": {
            "type": "array",
            "items": { "type": "string" },
            "description": "IDs of questions assigned to this file. MUST be validated against questions.json."
          }
        }
      }
    },
    "assignments": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["agent_id", "files", "question_count", "question_ids"],
        "properties": {
          "agent_id": { "type": "integer", "minimum": 0 },
          "files": {
            "type": "array",
            "items": { "type": "string" },
            "description": "List of files exclusively owned by this agent"
          },
          "question_count": { "type": "integer" },
          "question_ids": {
            "type": "array",
            "items": { "type": "string" },
            "description": "IDs of questions assigned to this file. MUST be validated against questions.json."
          }
        }
      }
    }
  }
}
