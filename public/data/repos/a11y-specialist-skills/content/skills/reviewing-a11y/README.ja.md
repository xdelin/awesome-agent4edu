# reviewing-a11y

[English](./README.md)

Webページ、コンポーネント実装、デザイン案、仕様書をWCAG 2.2・WAI-ARIA APG観点でレビューするスキル。

## アーキテクチャ

このスキルは専門サブエージェントを持つ**オーケストレーターパターン**を使用しています：

```
┌─────────────────────────────────────┐
│   reviewing-a11y (オーケストレーター)  │
│   - レビュー対象を特定              │
│   - スペシャリストに委譲            │
└──────────┬──────────────────────────┘
           │
    ┌──────┴────────┬─────────────┐
    │               │             │
    ▼               ▼             ▼
┌───────┐    ┌──────────┐   ┌────────────┐
│ ページ│    │  コード  │   │ デザイン   │
│レビュー    │ レビュー │   │ レビュー   │
└───────┘    └──────────┘   └────────────┘
```

### スペシャリスト

1. **ページレビュー** (`references/page-review.ja.md`)
   - 対象: 実際のWebページ（URL）
   - 方法: Playwrightブラウザスナップショット
   - 焦点: レンダリング出力、実行時の挙動

2. **コードレビュー** (`references/code-review.ja.md`)
   - 対象: ソースファイル（.jsx、.tsx、.vue、.html）
   - 方法: 静的コード解析
   - 焦点: 実装パターン、セマンティック構造

3. **デザインレビュー** (`references/design-review.ja.md`)
   - 対象: デザインファイル（Figma、画像、PDF）
   - 方法: 視覚検査、仕様分析
   - 焦点: デザインの決定、視覚的アクセシビリティ

## 前提知識（Claudeが既に知っていること）

このスキルは、Claudeが既に以下を知っていることを前提としています：
- **WCAG 2.2** の達成基準、レベル（A、AA、AAA）、およびその意味
- **WAI-ARIA** のオーサリングプラクティス、role、state、property
- **標準的なアクセシビリティパターン**: セマンティックHTML、フォームアクセシビリティ、キーボードナビゲーション
- **一般的な問題と修正**: altテキストの欠如、不適切なARIA使用、キーボードトラップなど

ガイドは主に特定のツールを使った**レビュー方法**とワークフローに焦点を当て、Claudeの既存のアクセシビリティ知識を活用します。

人間向けの参考資料として、詳細なWCAGチェックリストが `references/wcag-checklist.ja.md` に用意されています。

## 特徴

- **自動委譲**: レビュー対象を特定し、適切なスペシャリストにルーティング
- **包括的カバレッジ**: ページ、コード、デザインすべてをサポート
- **WCAG準拠**: 各問題にWCAG達成基準を紐付け
- **構造化された出力**: 良い点、重要度別の問題点、手動確認推奨項目
- **バイリンガル**: 英語と日本語のガイドを利用可能

## チェック項目

### 自動チェック

| カテゴリ | 項目 |
|----------|------|
| セマンティクス | 見出し構造（h1-h6）、ランドマーク、適切なHTML要素 |
| 代替テキスト | img, svg, アイコンのalt/aria-label |
| フォーム | label関連付け、必須フィールド、fieldset/legend |
| ARIA | role属性の正しさ、aria-*属性、冗長なARIAの回避 |
| インタラクティブ要素 | アクセシブルネーム、キーボードフォーカス可能性、tabindex |
| リンク・ボタン | 目的が明確なテキスト、空リンクの回避 |

### 手動確認推奨

| カテゴリ | 理由 |
|----------|------|
| 一貫したナビゲーション | 複数ページ比較が必要 |
| エラー表示・説明 | フォーム操作が必要 |
| 色コントラスト | 測定ツールが必要 |
| キーボード操作完全性 | 全操作パスのテストが必要 |
| 動的コンテンツ更新 | 状態変化の観察が必要 |
| フォーカス管理 | モーダル、SPA遷移等のテストが必要 |

## 使用例

### Webページレビュー
```
https://example.com のa11yレビューして
https://mysite.com/dashboard のアクセシビリティを確認
```

オーケストレーターがURLを検出し、Playwrightツールで**ページレビュー**スペシャリストを起動します。

### コードレビュー
```
src/components/Modal.tsx のアクセシビリティを確認
src/pages/Login.vue のa11yをレビュー
```

オーケストレーターがファイルパスを検出し、ファイル読み取りツールで**コードレビュー**スペシャリストを起動します。

### デザインレビュー
```
このFigmaデザインをレビュー: https://figma.com/file/abc123
このデザインモックアップのアクセシビリティを確認（画像添付）
```

オーケストレーターがデザイン成果物を検出し、**デザインレビュー**スペシャリストを起動します。

## 出力フォーマット

すべてのスペシャリストが一貫した出力を生成します：

```markdown
### 良い点
- [具体的な実装箇所] は [理由] のため良くできています

### 問題点

**Critical（致命的）** - アクセスを完全にブロック
- **箇所**: [要素・コード・デザイン領域]
- **問題**: [説明]
- **WCAG**: [達成基準]
- **影響**: [誰がどのように影響を受けるか]
- **修正案**: [提案]

**Major（重大）** - アクセス可能だが困難
...

**Minor（軽微）** - アクセス可能で改善の余地あり
...

### 手動確認の推奨
- [ ] ツールで色コントラストを確認
- [ ] キーボードナビゲーションをテスト
...
```

## ファイル構造

```
skills/reviewing-a11y/
├── SKILL.md                      # メインオーケストレーター（英語）
├── SKILL.ja.md                   # メインオーケストレーター（日本語）
├── README.md                     # 英語版README
├── README.ja.md                  # このファイル
└── references/                       # リファレンス
    ├── page-review.md            # ページレビューガイド
    ├── page-review.ja.md         # （日本語）
    ├── code-review.md            # コードレビューガイド
    ├── code-review.ja.md         # （日本語）
    ├── design-review.md          # デザインレビューガイド
    ├── design-review.ja.md       # （日本語）
    ├── wcag-checklist.md         # WCAGチェックリスト
    └── wcag-checklist.ja.md      # （日本語）
```

## 参考リソース

- [WCAG 2.2](https://www.w3.org/TR/WCAG22/)
- [WCAG 2.2 日本語訳](https://waic.jp/translations/WCAG22/)
- [WAI-ARIA APG](https://www.w3.org/WAI/ARIA/apg/)
- [WCAG達成基準早見表](https://www.w3.org/WAI/WCAG22/quickref/)
