[English](./output-format.md)

# 出力フォーマット

監査レポートは以下のテンプレートに従う。内容は簡潔に、証跡と判断理由を必ず添える。

## 出力手順

### 1. 保存先の確認
レポート生成前に、ユーザーに保存先を確認する:
```
監査レポートの保存先を指定してください。
デフォルト: ./[ドメイン名]-[YYYY-MM-DD]/
```

### 2. 出力ディレクトリ作成
`[ドメイン名]-[YYYY-MM-DD]/` 形式でディレクトリを作成する。

例: `a11yc.com-2026-01-24/`

### 3. ファイル生成
出力ディレクトリに以下のファイルを保存する:

| ファイル | 説明 |
|----------|------|
| `report.md` | メイン監査レポート（Markdown） |
| `axe-result.json` | axe-core生結果 |
| `*.json` | その他スクリプト結果 |
| `screenshots/` | 証跡スクリーンショット |

### 4. スクリプト出力のコピー
生成されたJSONファイルとスクリーンショットを出力ディレクトリに移動する。

## レポートテンプレート

```markdown
# アクセシビリティ監査レポート

## スコープ
- 対象URL/画面:
- 対象フロー:
- 対象デバイス/ブラウザ:
- 監査日/担当:
- 除外事項:

## サマリー
| レベル | Pass | Fail | NT | NA |
|---|---:|---:|---:|---:|
| A |  |  |  |  |
| AA |  |  |  |  |

## 詳細結果（基準ごと）
| 基準 | レベル | 判定 | 証跡 | 判断理由 |
|---|---|---|---|---|
|  |  |  |  |  |

## 指摘一覧（Issue Summary）
| 重要度 | 影響 | 該当基準 | 場所 | 概要 | 推奨対応 |
|---|---|---|---|---|---|
|  |  |  |  |  |  |

## スクリーンショット / 証跡

### フォーカスインジケータチェック（2.4.7 / 2.4.11）

フォーカススタイルがない要素には赤枠と「⚠ No Focus Style」ラベルが表示されます。

![フォーカスインジケータチェック結果](./focus-indicators.png)

**検出された問題:**
- フォーカス可能な要素数: X
- フォーカススタイルなしの要素: Y
- 問題のある要素:
  - `<button>` 要素名...
  - ...

### 自動再生検出（1.4.2 / 2.2.2）

自動再生コンテンツを検出するため、一定間隔でスクリーンショットを撮影して比較。

![自動再生検出 - 0秒](./auto-play-screenshots/screenshot-0.png)
![自動再生検出 - 3秒](./auto-play-screenshots/screenshot-3.png)

**検出結果:**
- 自動再生コンテンツ検出: あり/なし
- 比較したスクリーンショット: 4枚（0秒、1秒、2秒、3秒）
- サイズ変化率: X%
- 手動確認:
  - [ ] 一時停止/停止コントロールが提供されている
  - [ ] 5秒以内にコンテンツが停止する
  - [ ] 音声の自動再生がない（またはコントロールが提供されている）

### その他の証跡
<!-- 必要に応じてスクリーンショットを追加 -->

## 手動確認チェックリスト
- [ ] 色・コントラスト
- [ ] テキスト/レイアウト
- [ ] タイミング
- [ ] フラッシュ
- [ ] 画面方向
- [ ] 入力目的
- [ ] 冗長入力
- [ ] マルチメディア
- [ ] 感覚的特徴
- [ ] 音声
- [ ] ナビゲーション

## 制限事項
- 自動チェックはa11y treeに基づくため、視覚的品質は別途確認が必要
- 認証後ページや外部サービスは未検証
- サンプルデータに依存する機能は実運用で再検証が必要
```

## 判定ラベル
- Pass: 基準を満たす
- Fail: 基準未達
- NT: 未検証（検証対象外/時間不足）
- NA: 該当なし
