{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://octocode-documentaion-writer.v3/questions.json",
  "title": "Engineer Questions Output",
  "description": "Comprehensive questions generated for documentation coverage",
  "type": "object",
  "required": [
    "metadata",
    "summary",
    "questions"
  ],
  "properties": {
    "metadata": {
      "type": "object",
      "required": [
        "version",
        "generated_at",
        "repository_path"
      ],
      "properties": {
        "version": {
          "type": "string",
          "const": "3.0"
        },
        "generated_at": {
          "type": "string",
          "format": "date-time"
        },
        "repository_path": {
          "type": "string"
        },
        "agent": {
          "type": "string",
          "const": "engineer-questions"
        }
      }
    },
    "summary": {
      "type": "object",
      "required": [
        "total_questions",
        "by_category",
        "by_priority"
      ],
      "properties": {
        "total_questions": {
          "type": "integer",
          "minimum": 0
        },
        "by_category": {
          "type": "object",
          "additionalProperties": {
            "type": "integer",
            "minimum": 0
          }
        },
        "by_priority": {
          "type": "object",
          "properties": {
            "critical": {
              "type": "integer",
              "minimum": 0
            },
            "high": {
              "type": "integer",
              "minimum": 0
            },
            "medium": {
              "type": "integer",
              "minimum": 0
            },
            "low": {
              "type": "integer",
              "minimum": 0
            }
          }
        }
      }
    },
    "questions": {
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "id",
          "question",
          "category",
          "priority",
          "research_goal",
          "files_to_examine",
          "reason",
          "documentation_target"
        ],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the question",
            "pattern": "^[a-zA-Z0-9_-]+$"
          },
          "question": {
            "type": "string",
            "description": "The question to be answered in documentation"
          },
          "category": {
            "type": "string",
            "enum": [
              "component-overview",
              "component-responsibility",
              "component-exports",
              "component-internal",
              "component-dependencies",
              "flow-trigger",
              "flow-execution",
              "flow-error-handling",
              "flow-data-transformation",
              "flow-complexity",
              "architecture-overview",
              "architecture-patterns",
              "architecture-layers",
              "architecture-decisions",
              "api-documentation",
              "api-usage",
              "api-parameters",
              "api-examples",
              "integrations",
              "configuration",
              "deployment",
              "edge-cases",
              "performance",
              "security",
              "testing",
              "overview",
              "technical-stack",
              "development-setup",
              "data-models",
              "monitoring",
              "design-decisions",
              "feature",
              "component",
              "flow"
            ]
          },
          "priority": {
            "type": "string",
            "enum": [
              "critical",
              "high",
              "medium",
              "low"
            ]
          },
          "research_goal": {
            "type": "string",
            "description": "What should be discovered when answering this question"
          },
          "files_to_examine": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "File paths or patterns to examine"
          },
          "reason": {
            "type": "string",
            "description": "Why this question is important for documentation"
          },
          "documentation_target": {
            "type": "string",
            "description": "The target documentation file that this question answers (e.g. 01-project-overview.md)"
          },
          "research_strategy": {
            "type": "object",
            "properties": {
              "approach": {
                "type": "string",
                "description": "High-level research approach"
              },
              "tools_to_use": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "expected_findings": {
                "type": "string",
                "description": "What information is expected to be found"
              },
              "documentation_target": {
                "type": "string",
                "description": "What should be documented based on findings"
              }
            }
          },
          "dependencies": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "IDs of questions that should be answered first"
          },
          "related_components": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Components related to this question"
          },
          "related_flows": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Flows related to this question"
          }
        }
      }
    }
  }
}